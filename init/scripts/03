if [ "$#" -ne 1 ]; then
	echo "usage: \"03 purge\" OR \"03 keep\""
	exit 0
fi

if [ "$1" == "help" ]; then
	echo "usage: \"03 purge\" OR \"03 keep\""
	echo "PURGE modifier deletes ALL files from the folder and pulls last commit from repo"
	echo "KEEP modifier only deletes files with the names matching those on the repo and pulls last commit from repo"
	exit 0
fi

URL=$(git config --get remote.origin.url)
if [ "$1" == "purge" ]; then
	rm -rf * 2> /dev/null
	git ls-files |
	while read FILE
		do git checkout $FILE
	done
	exit 0
fi

if [ "$1" == "keep" ]; then
	git ls-files |
	while read FILE
		do rm -rf $FILE 2> /dev/null
		git checkout $FILE
	done
	exit 0
fi

echo "usage: \"03 purge\" OR \"03 keep\""
